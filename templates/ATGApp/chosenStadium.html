{% extends 'ATGApp/base.html' %}
{% load staticfiles %}


{% block title_block %}
    {{ stadium.name }}
{% endblock %}


{% block body_block %}

    {% if stadium %}
        <h1>{{ stadium.name }}</h1>
        <h2>
            Home to - {{ stadium.homeTeam }}<br/>With a {{ stadium.capacity}} capacity!
        </h2>
        <p>
            {{ stadium.description }}
            <br/>
        </p>

        {% if user.is_authenticated %}
            
            <div>You are logged into an account so you can <a href="{% url 'writeReview' stadium.slug %}">Write a Review</a></div>
        {% else %}
            <div>You are not logged logged into an account so you cannot write a review.<br/><a href="{% url 'Login' }">Log In</a> to do so.</div>
        {% endif %}

        {% if reviews %}
			</br>
            <table id="reviews">
                <tr>
                    <th>Reviewer</th>
                    <th>Atmosphere</th>
                    <th>Food</th>
                    <th>Facilities</th>
                    <th>Additional Information</th>
					<th>Review made on</th>
                </tr>
                {% for review in reviews %}
                    <tr>
                        <td>{{review.user}}</td>
                        <td id="atmosphere">{{review.atmosphere}}</td>
                        <td id="food">{{review.food}}</td>
                        <td id="facilities">{{review.facilities}}</td>
                        <td>{% if review.additionalInfo %}
								{{review.additionalInfo}}
							{% else %}
								No additional information.
							{% endif %}</td>
						<td>{{review.date}}</td>
                    </tr>
                {% endfor %}
            </table>
            
        {% else %}
            <strong>No reviews currently for this stadium.</strong>
        {% endif %}

    {% else %}
        The specified stadium does not exist!
    {% endif %}


{% endblock %}